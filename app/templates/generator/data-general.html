{% load static %}
<!DOCTYPE html>
<html>
<head>
    <style>
        body { font-family: Arial, sans-serif; margin: 1cm; page-break-before: avoid;}
        h1, h2 { text-align: center; }
        table { width: 100%; border-collapse: collapse; table-layout: fixed; }
        th, td { border: 1px solid #000; padding: 8px; text-align: center; word-wrap: break-word; font-size: 13px; }
        td{ white-space: pre-wrap; }
        th { background-color: #f2f2f2; }

        /* Força quebra de página antes do elemento */
        .page-break { page-break-before: always; }

        /* Evita quebra de página dentro da tabela */
        table { page-break-inside: avoid; }


        .header-page {
            width: 100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-bottom: 20px;
        }
        .aa {
            width: 100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-bottom: 20px;
        }
        .center{
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .b{
            width: 9.5em;
            height: 9.5em;
            border: 2px solid #0051ff;;
            border-radius: 15px;
            padding: 10px;
        }
        .ab{
            width: 100%;
            height: 65%;
        }
        .ab p{
            font-family: Arial, Helvetica, sans-serif;
            font-size: 4.5em;
            color: black;
            font-weight: 700;

        }
        .ba{
            width: 100%;
            height: 35%;

        }
        .ba p{
            font-family: Arial, Helvetica, sans-serif;
            font-size: 15px;
            color: black;
            font-weight: 400;

        }
    </style>
</head>
<body>

    <h2>JIIFS - MOREA SPORTS</h2>
    <h2>Relatório dados gerais</h2>
    {% if infor %}<p>{{infor}}</p>{% endif %}

    <div class="aa">
        <div class="b">
            <div class="ab center">
                <p>{{qnt_players}}</p>
            </div>
            <div class="ba center">
                <p>Núm. total de atletas</p>
            </div>
        </div>
        <div class="b">
            <div class="ab center">
                <p>{{qnt_players_fem}}</p>
            </div>
            <div class="ba center">
                <p>atletas: feminino</p>
            </div>
        </div>            
        <div class="b">
            <div class="ab center">
                <p>{{qnt_players_masc}}</p>
            </div>
            <div class="ba center">
                <p>atletas: masculino</p>
            </div>

        </div>            
    </div>
    <p>Aqui estão alguns dados referentes a quantidade de atletas que irão participar do jiifs e a quantidade de atletas do sexo feminino e masculino.</p>

    <div class="aa">
        <div class="b">
            <div class="ab center">
                <p>{{qnt_teams}}</p>
            </div>
            <div class="ba center">
                <p>total de equipes</p>
            </div>

        </div>
        <div class="b">
            <div class="ab center">
                <p>{{qnt_voluntary}}</p>
            </div>
            <div class="ba center">
                <p>total de voluntarios</p>
            </div>
        </div>
        <div class="b">
            <div class="ab center">
                <p>{{qnt_campus}}</p>
            </div>
            <div class="ba center">
                <p>campus inscritos</p>
            </div>
        </div>

    </div>
    <p>Aqui temos a quantidade total de equipes, considera-se equipe a relação campus x modalidade, exemplo: aracaju voleibol feminino, aracaju futsal masculino. Também temos a quantidade de voluntarios e os campus inscritos.</p>
    <p>Esse ano {{porcent_fem}}% dos atletas são do sexo feminino e {{porcent_masc}}% do sexo masculino</p>
    {% for c, n, pf, pm, v in campi %}
    <div style="display: flex;">
    <h2 style="color: #0051ff;">{{c|upper}}</h2>
    </div>
    <div style="width: 13em; height: 0.2em; background-color: #0051ff;; border-radius: 10px;"></div>
    
    <p style="font-size: 18px;">O campus {{c}} tem um número total de {{n}} atletas sendo {{pf}} do sexo feminino e {{pm}} do sexo masculino.</p>
    {% if v == 1 %} <p>Além disso, há {{v}} voluntario nesse campus!</p> {% elif v > 1 %} <p>Além disso, há {{v}} voluntarios nesse campus!</p> {% endif %}
    {% endfor %}
    
    <!-- Forçando uma nova página -->
    <div class="page-break"></div>

    <h2>JIFS - MOREA <br> 2025</h2>
    <p style="text-align: center;">Esse relatório foi gerado automaticamente por {{ user.username }}.</p>
    <p style="text-align: center;">Gerado em: {{ now }}</p>
</body>
</html>